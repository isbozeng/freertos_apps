ARM GAS  /tmp/ccRBUACU.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"icmp.c"
  14              		.text
  15              		.section	.text.icmp_send_response,"ax",%progbits
  16              		.align	1
  17              		.arch armv7e-m
  18              		.syntax unified
  19              		.thumb
  20              		.thumb_func
  21              		.fpu fpv4-sp-d16
  23              	icmp_send_response:
  24              		@ args = 0, pretend = 0, frame = 8
  25              		@ frame_needed = 0, uses_anonymous_args = 0
  26 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
  27 0004 86B0     		sub	sp, sp, #24
  28 0006 0646     		mov	r6, r0
  29 0008 8846     		mov	r8, r1
  30 000a 1746     		mov	r7, r2
  31 000c 4FF42072 		mov	r2, #640
  32 0010 2421     		movs	r1, #36
  33 0012 2220     		movs	r0, #34
  34 0014 FFF7FEFF 		bl	pbuf_alloc
  35 0018 0028     		cmp	r0, #0
  36 001a 36D0     		beq	.L1
  37 001c 0546     		mov	r5, r0
  38 001e 4389     		ldrh	r3, [r0, #10]
  39 0020 232B     		cmp	r3, #35
  40 0022 35D9     		bls	.L7
  41              	.L4:
  42 0024 D6F804C0 		ldr	ip, [r6, #4]
  43 0028 6C68     		ldr	r4, [r5, #4]
  44 002a 84F80080 		strb	r8, [r4]
  45 002e 6770     		strb	r7, [r4, #1]
  46 0030 0023     		movs	r3, #0
  47 0032 2371     		strb	r3, [r4, #4]
  48 0034 6371     		strb	r3, [r4, #5]
  49 0036 A371     		strb	r3, [r4, #6]
  50 0038 E371     		strb	r3, [r4, #7]
  51 003a 6F68     		ldr	r7, [r5, #4]
  52 003c 7368     		ldr	r3, [r6, #4]
  53 003e 1E68     		ldr	r6, [r3]	@ unaligned
  54 0040 5868     		ldr	r0, [r3, #4]	@ unaligned
  55 0042 9968     		ldr	r1, [r3, #8]	@ unaligned
  56 0044 D3F80CE0 		ldr	lr, [r3, #12]	@ unaligned
  57 0048 BE60     		str	r6, [r7, #8]	@ unaligned
  58 004a F860     		str	r0, [r7, #12]	@ unaligned
ARM GAS  /tmp/ccRBUACU.s 			page 2


  59 004c 3961     		str	r1, [r7, #16]	@ unaligned
  60 004e C7F814E0 		str	lr, [r7, #20]	@ unaligned
  61 0052 1E69     		ldr	r6, [r3, #16]	@ unaligned
  62 0054 5869     		ldr	r0, [r3, #20]	@ unaligned
  63 0056 9969     		ldr	r1, [r3, #24]	@ unaligned
  64 0058 BE61     		str	r6, [r7, #24]	@ unaligned
  65 005a F861     		str	r0, [r7, #28]	@ unaligned
  66 005c 3962     		str	r1, [r7, #32]	@ unaligned
  67 005e DCF80C30 		ldr	r3, [ip, #12]	@ unaligned
  68 0062 0593     		str	r3, [sp, #20]
  69 0064 05A8     		add	r0, sp, #20
  70 0066 FFF7FEFF 		bl	ip4_route
  71 006a 58B1     		cbz	r0, .L5
  72 006c 0021     		movs	r1, #0
  73 006e A170     		strb	r1, [r4, #2]
  74 0070 E170     		strb	r1, [r4, #3]
  75 0072 0290     		str	r0, [sp, #8]
  76 0074 0123     		movs	r3, #1
  77 0076 0193     		str	r3, [sp, #4]
  78 0078 0091     		str	r1, [sp]
  79 007a FF23     		movs	r3, #255
  80 007c 05AA     		add	r2, sp, #20
  81 007e 2846     		mov	r0, r5
  82 0080 FFF7FEFF 		bl	ip4_output_if
  83              	.L5:
  84 0084 2846     		mov	r0, r5
  85 0086 FFF7FEFF 		bl	pbuf_free
  86              	.L1:
  87 008a 06B0     		add	sp, sp, #24
  88              		@ sp needed
  89 008c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
  90              	.L7:
  91 0090 034B     		ldr	r3, .L8
  92 0092 40F26912 		movw	r2, #361
  93 0096 0349     		ldr	r1, .L8+4
  94 0098 0348     		ldr	r0, .L8+8
  95 009a FFF7FEFF 		bl	printf
  96 009e C1E7     		b	.L4
  97              	.L9:
  98              		.align	2
  99              	.L8:
 100 00a0 00000000 		.word	.LC0
 101 00a4 34000000 		.word	.LC1
 102 00a8 60000000 		.word	.LC2
 104              		.section	.text.icmp_input,"ax",%progbits
 105              		.align	1
 106              		.global	icmp_input
 107              		.syntax unified
 108              		.thumb
 109              		.thumb_func
 110              		.fpu fpv4-sp-d16
 112              	icmp_input:
 113              		@ args = 0, pretend = 0, frame = 0
 114              		@ frame_needed = 0, uses_anonymous_args = 0
 115 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 116 0004 85B0     		sub	sp, sp, #20
 117 0006 0546     		mov	r5, r0
ARM GAS  /tmp/ccRBUACU.s 			page 3


 118 0008 4A4B     		ldr	r3, .L28
 119 000a 9F68     		ldr	r7, [r3, #8]
 120 000c 3C78     		ldrb	r4, [r7]	@ zero_extendqisi2
 121 000e 04F00F04 		and	r4, r4, #15
 122 0012 A400     		lsls	r4, r4, #2
 123 0014 A6B2     		uxth	r6, r4
 124 0016 132E     		cmp	r6, #19
 125 0018 15D9     		bls	.L11
 126 001a 8846     		mov	r8, r1
 127 001c 4389     		ldrh	r3, [r0, #10]
 128 001e 032B     		cmp	r3, #3
 129 0020 11D9     		bls	.L11
 130 0022 4368     		ldr	r3, [r0, #4]
 131 0024 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 132 0026 082B     		cmp	r3, #8
 133 0028 61D1     		bne	.L12
 134 002a 424B     		ldr	r3, .L28
 135 002c 5869     		ldr	r0, [r3, #20]
 136 002e 00F0F003 		and	r3, r0, #240
 137 0032 E02B     		cmp	r3, #224
 138 0034 1AD0     		beq	.L13
 139 0036 3F4B     		ldr	r3, .L28
 140 0038 1968     		ldr	r1, [r3]
 141 003a FFF7FEFF 		bl	ip4_addr_isbroadcast_u32
 142 003e A8B9     		cbnz	r0, .L13
 143 0040 2B89     		ldrh	r3, [r5, #8]
 144 0042 072B     		cmp	r3, #7
 145 0044 05D8     		bhi	.L21
 146              	.L11:
 147 0046 2846     		mov	r0, r5
 148 0048 FFF7FEFF 		bl	pbuf_free
 149              	.L10:
 150 004c 05B0     		add	sp, sp, #20
 151              		@ sp needed
 152 004e BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 153              	.L21:
 154 0052 04F10E09 		add	r9, r4, #14
 155 0056 4946     		mov	r1, r9
 156 0058 2846     		mov	r0, r5
 157 005a FFF7FEFF 		bl	pbuf_add_header
 158 005e 0028     		cmp	r0, #0
 159 0060 3AD0     		beq	.L14
 160 0062 2B89     		ldrh	r3, [r5, #8]
 161 0064 9919     		adds	r1, r3, r6
 162 0066 89B2     		uxth	r1, r1
 163 0068 8B42     		cmp	r3, r1
 164 006a 03D9     		bls	.L22
 165              	.L13:
 166 006c 2846     		mov	r0, r5
 167 006e FFF7FEFF 		bl	pbuf_free
 168 0072 EBE7     		b	.L10
 169              	.L22:
 170 0074 4FF42072 		mov	r2, #640
 171 0078 0E20     		movs	r0, #14
 172 007a FFF7FEFF 		bl	pbuf_alloc
 173 007e 0646     		mov	r6, r0
 174 0080 0028     		cmp	r0, #0
ARM GAS  /tmp/ccRBUACU.s 			page 4


 175 0082 F3D0     		beq	.L13
 176 0084 4289     		ldrh	r2, [r0, #10]
 177 0086 04F10803 		add	r3, r4, #8
 178 008a 9A42     		cmp	r2, r3
 179 008c 13D3     		bcc	.L23
 180 008e 2246     		mov	r2, r4
 181 0090 3946     		mov	r1, r7
 182 0092 4068     		ldr	r0, [r0, #4]
 183 0094 FFF7FEFF 		bl	memcpy
 184 0098 2146     		mov	r1, r4
 185 009a 3046     		mov	r0, r6
 186 009c FFF7FEFF 		bl	pbuf_remove_header
 187 00a0 60B9     		cbnz	r0, .L24
 188 00a2 2946     		mov	r1, r5
 189 00a4 3046     		mov	r0, r6
 190 00a6 FFF7FEFF 		bl	pbuf_copy
 191 00aa 88B9     		cbnz	r0, .L25
 192 00ac 2846     		mov	r0, r5
 193 00ae FFF7FEFF 		bl	pbuf_free
 194 00b2 3546     		mov	r5, r6
 195 00b4 15E0     		b	.L18
 196              	.L23:
 197 00b6 FFF7FEFF 		bl	pbuf_free
 198 00ba D7E7     		b	.L13
 199              	.L24:
 200 00bc 1E4B     		ldr	r3, .L28+4
 201 00be B622     		movs	r2, #182
 202 00c0 1E49     		ldr	r1, .L28+8
 203 00c2 1F48     		ldr	r0, .L28+12
 204 00c4 FFF7FEFF 		bl	printf
 205 00c8 3046     		mov	r0, r6
 206 00ca FFF7FEFF 		bl	pbuf_free
 207 00ce CDE7     		b	.L13
 208              	.L25:
 209 00d0 3046     		mov	r0, r6
 210 00d2 FFF7FEFF 		bl	pbuf_free
 211 00d6 C9E7     		b	.L13
 212              	.L14:
 213 00d8 4946     		mov	r1, r9
 214 00da 2846     		mov	r0, r5
 215 00dc FFF7FEFF 		bl	pbuf_remove_header
 216 00e0 48B9     		cbnz	r0, .L26
 217              	.L18:
 218 00e2 6E68     		ldr	r6, [r5, #4]
 219 00e4 2146     		mov	r1, r4
 220 00e6 2846     		mov	r0, r5
 221 00e8 FFF7FEFF 		bl	pbuf_add_header
 222 00ec 50B1     		cbz	r0, .L27
 223              	.L12:
 224 00ee 2846     		mov	r0, r5
 225 00f0 FFF7FEFF 		bl	pbuf_free
 226 00f4 AAE7     		b	.L10
 227              	.L26:
 228 00f6 104B     		ldr	r3, .L28+4
 229 00f8 C722     		movs	r2, #199
 230 00fa 1249     		ldr	r1, .L28+16
 231 00fc 1048     		ldr	r0, .L28+12
ARM GAS  /tmp/ccRBUACU.s 			page 5


 232 00fe FFF7FEFF 		bl	printf
 233 0102 B3E7     		b	.L13
 234              	.L27:
 235 0104 6868     		ldr	r0, [r5, #4]
 236 0106 0B49     		ldr	r1, .L28
 237 0108 4B69     		ldr	r3, [r1, #20]
 238 010a C360     		str	r3, [r0, #12]	@ unaligned
 239 010c 0B69     		ldr	r3, [r1, #16]
 240 010e 0361     		str	r3, [r0, #16]	@ unaligned
 241 0110 0022     		movs	r2, #0
 242 0112 3270     		strb	r2, [r6]
 243 0114 B270     		strb	r2, [r6, #2]
 244 0116 F270     		strb	r2, [r6, #3]
 245 0118 FF23     		movs	r3, #255
 246 011a 0372     		strb	r3, [r0, #8]
 247 011c 8272     		strb	r2, [r0, #10]
 248 011e C272     		strb	r2, [r0, #11]
 249 0120 CDF80880 		str	r8, [sp, #8]
 250 0124 0120     		movs	r0, #1
 251 0126 0190     		str	r0, [sp, #4]
 252 0128 0092     		str	r2, [sp]
 253 012a 1431     		adds	r1, r1, #20
 254 012c 2846     		mov	r0, r5
 255 012e FFF7FEFF 		bl	ip4_output_if
 256 0132 DCE7     		b	.L12
 257              	.L29:
 258              		.align	2
 259              	.L28:
 260 0134 00000000 		.word	ip_data
 261 0138 00000000 		.word	.LC0
 262 013c 00000000 		.word	.LC3
 263 0140 60000000 		.word	.LC2
 264 0144 38000000 		.word	.LC4
 266              		.section	.text.icmp_dest_unreach,"ax",%progbits
 267              		.align	1
 268              		.global	icmp_dest_unreach
 269              		.syntax unified
 270              		.thumb
 271              		.thumb_func
 272              		.fpu fpv4-sp-d16
 274              	icmp_dest_unreach:
 275              		@ args = 0, pretend = 0, frame = 0
 276              		@ frame_needed = 0, uses_anonymous_args = 0
 277 0000 08B5     		push	{r3, lr}
 278 0002 0A46     		mov	r2, r1
 279 0004 0321     		movs	r1, #3
 280 0006 FFF7FEFF 		bl	icmp_send_response
 281 000a 08BD     		pop	{r3, pc}
 283              		.section	.text.icmp_time_exceeded,"ax",%progbits
 284              		.align	1
 285              		.global	icmp_time_exceeded
 286              		.syntax unified
 287              		.thumb
 288              		.thumb_func
 289              		.fpu fpv4-sp-d16
 291              	icmp_time_exceeded:
 292              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccRBUACU.s 			page 6


 293              		@ frame_needed = 0, uses_anonymous_args = 0
 294 0000 08B5     		push	{r3, lr}
 295 0002 0A46     		mov	r2, r1
 296 0004 0B21     		movs	r1, #11
 297 0006 FFF7FEFF 		bl	icmp_send_response
 298 000a 08BD     		pop	{r3, pc}
 300              		.section	.rodata.icmp_input.str1.4,"aMS",%progbits,1
 301              		.align	2
 302              	.LC3:
 303 0000 69636D70 		.ascii	"icmp_input: moving r->payload to icmp header failed"
 303      5F696E70 
 303      75743A20 
 303      6D6F7669 
 303      6E672072 
 304 0033 0A00     		.ascii	"\012\000"
 305 0035 000000   		.space	3
 306              	.LC4:
 307 0038 69636D70 		.ascii	"icmp_input: restoring original p->payload failed\012"
 307      5F696E70 
 307      75743A20 
 307      72657374 
 307      6F72696E 
 308 0069 00       		.ascii	"\000"
 309              		.section	.rodata.icmp_send_response.str1.4,"aMS",%progbits,1
 310              		.align	2
 311              	.LC0:
 312 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/core/ipv4/icmp.c\000"
 312      6C657761 
 312      7265732F 
 312      54686972 
 312      645F5061 
 313 0032 0000     		.space	2
 314              	.LC1:
 315 0034 63686563 		.ascii	"check that first pbuf can hold icmp message\000"
 315      6B207468 
 315      61742066 
 315      69727374 
 315      20706275 
 316              	.LC2:
 317 0060 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 317      7274696F 
 317      6E202225 
 317      73222066 
 317      61696C65 
 318              		.ident	"GCC: (GNU Tools for Arm Embedded Processors 8-2019-q3-update) 8.3.1 20190703 (release) [gc
ARM GAS  /tmp/ccRBUACU.s 			page 7


DEFINED SYMBOLS
                            *ABS*:0000000000000000 icmp.c
     /tmp/ccRBUACU.s:16     .text.icmp_send_response:0000000000000000 $t
     /tmp/ccRBUACU.s:23     .text.icmp_send_response:0000000000000000 icmp_send_response
     /tmp/ccRBUACU.s:100    .text.icmp_send_response:00000000000000a0 $d
     /tmp/ccRBUACU.s:105    .text.icmp_input:0000000000000000 $t
     /tmp/ccRBUACU.s:112    .text.icmp_input:0000000000000000 icmp_input
     /tmp/ccRBUACU.s:260    .text.icmp_input:0000000000000134 $d
     /tmp/ccRBUACU.s:267    .text.icmp_dest_unreach:0000000000000000 $t
     /tmp/ccRBUACU.s:274    .text.icmp_dest_unreach:0000000000000000 icmp_dest_unreach
     /tmp/ccRBUACU.s:284    .text.icmp_time_exceeded:0000000000000000 $t
     /tmp/ccRBUACU.s:291    .text.icmp_time_exceeded:0000000000000000 icmp_time_exceeded
     /tmp/ccRBUACU.s:301    .rodata.icmp_input.str1.4:0000000000000000 $d
     /tmp/ccRBUACU.s:310    .rodata.icmp_send_response.str1.4:0000000000000000 $d

UNDEFINED SYMBOLS
pbuf_alloc
ip4_route
ip4_output_if
pbuf_free
printf
ip4_addr_isbroadcast_u32
pbuf_add_header
memcpy
pbuf_remove_header
pbuf_copy
ip_data
