ARM GAS  /tmp/ccxGqoRM.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"mem.c"
  14              		.text
  15              		.section	.text.ptr_to_mem,"ax",%progbits
  16              		.align	1
  17              		.arch armv7e-m
  18              		.syntax unified
  19              		.thumb
  20              		.thumb_func
  21              		.fpu fpv4-sp-d16
  23              	ptr_to_mem:
  24              		@ args = 0, pretend = 0, frame = 0
  25              		@ frame_needed = 0, uses_anonymous_args = 0
  26              		@ link register save eliminated.
  27 0000 014B     		ldr	r3, .L2
  28 0002 1B68     		ldr	r3, [r3]
  29 0004 1844     		add	r0, r0, r3
  30 0006 7047     		bx	lr
  31              	.L3:
  32              		.align	2
  33              	.L2:
  34 0008 00000000 		.word	.LANCHOR0
  36              		.section	.text.mem_to_ptr,"ax",%progbits
  37              		.align	1
  38              		.syntax unified
  39              		.thumb
  40              		.thumb_func
  41              		.fpu fpv4-sp-d16
  43              	mem_to_ptr:
  44              		@ args = 0, pretend = 0, frame = 0
  45              		@ frame_needed = 0, uses_anonymous_args = 0
  46              		@ link register save eliminated.
  47 0000 024B     		ldr	r3, .L5
  48 0002 1B68     		ldr	r3, [r3]
  49 0004 C01A     		subs	r0, r0, r3
  50 0006 80B2     		uxth	r0, r0
  51 0008 7047     		bx	lr
  52              	.L6:
  53 000a 00BF     		.align	2
  54              	.L5:
  55 000c 00000000 		.word	.LANCHOR0
  57              		.section	.text.mem_link_valid,"ax",%progbits
  58              		.align	1
  59              		.syntax unified
  60              		.thumb
  61              		.thumb_func
ARM GAS  /tmp/ccxGqoRM.s 			page 2


  62              		.fpu fpv4-sp-d16
  64              	mem_link_valid:
  65              		@ args = 0, pretend = 0, frame = 0
  66              		@ frame_needed = 0, uses_anonymous_args = 0
  67 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
  68 0002 0446     		mov	r4, r0
  69 0004 FFF7FEFF 		bl	mem_to_ptr
  70 0008 0646     		mov	r6, r0
  71 000a 2588     		ldrh	r5, [r4]
  72 000c 2846     		mov	r0, r5
  73 000e FFF7FEFF 		bl	ptr_to_mem
  74 0012 0746     		mov	r7, r0
  75 0014 6488     		ldrh	r4, [r4, #2]
  76 0016 2046     		mov	r0, r4
  77 0018 FFF7FEFF 		bl	ptr_to_mem
  78 001c B5F5C86F 		cmp	r5, #1600
  79 0020 10D8     		bhi	.L10
  80 0022 B4F5C86F 		cmp	r4, #1600
  81 0026 0FD8     		bhi	.L11
  82 0028 B442     		cmp	r4, r6
  83 002a 02D0     		beq	.L9
  84 002c 0388     		ldrh	r3, [r0]
  85 002e B342     		cmp	r3, r6
  86 0030 0CD1     		bne	.L12
  87              	.L9:
  88 0032 094B     		ldr	r3, .L16
  89 0034 1B68     		ldr	r3, [r3]
  90 0036 BB42     		cmp	r3, r7
  91 0038 0AD0     		beq	.L13
  92 003a 7B88     		ldrh	r3, [r7, #2]
  93 003c B342     		cmp	r3, r6
  94 003e 09D1     		bne	.L14
  95 0040 0120     		movs	r0, #1
  96 0042 00E0     		b	.L7
  97              	.L10:
  98 0044 0020     		movs	r0, #0
  99              	.L7:
 100 0046 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 101              	.L11:
 102 0048 0020     		movs	r0, #0
 103 004a FCE7     		b	.L7
 104              	.L12:
 105 004c 0020     		movs	r0, #0
 106 004e FAE7     		b	.L7
 107              	.L13:
 108 0050 0120     		movs	r0, #1
 109 0052 F8E7     		b	.L7
 110              	.L14:
 111 0054 0020     		movs	r0, #0
 112 0056 F6E7     		b	.L7
 113              	.L17:
 114              		.align	2
 115              	.L16:
 116 0058 00000000 		.word	.LANCHOR1
 118              		.section	.text.plug_holes,"ax",%progbits
 119              		.align	1
 120              		.syntax unified
ARM GAS  /tmp/ccxGqoRM.s 			page 3


 121              		.thumb
 122              		.thumb_func
 123              		.fpu fpv4-sp-d16
 125              	plug_holes:
 126              		@ args = 0, pretend = 0, frame = 0
 127              		@ frame_needed = 0, uses_anonymous_args = 0
 128 0000 38B5     		push	{r3, r4, r5, lr}
 129 0002 0446     		mov	r4, r0
 130 0004 354B     		ldr	r3, .L34
 131 0006 1B68     		ldr	r3, [r3]
 132 0008 8342     		cmp	r3, r0
 133 000a 40D8     		bhi	.L28
 134              	.L19:
 135 000c 344B     		ldr	r3, .L34+4
 136 000e 1B68     		ldr	r3, [r3]
 137 0010 A342     		cmp	r3, r4
 138 0012 44D9     		bls	.L29
 139              	.L20:
 140 0014 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
 141 0016 002B     		cmp	r3, #0
 142 0018 49D1     		bne	.L30
 143              	.L21:
 144 001a 2388     		ldrh	r3, [r4]
 145 001c B3F5C86F 		cmp	r3, #1600
 146 0020 4DD8     		bhi	.L31
 147              	.L22:
 148 0022 2088     		ldrh	r0, [r4]
 149 0024 FFF7FEFF 		bl	ptr_to_mem
 150 0028 8442     		cmp	r4, r0
 151 002a 16D0     		beq	.L23
 152 002c 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 153 002e A3B9     		cbnz	r3, .L23
 154 0030 2B4B     		ldr	r3, .L34+4
 155 0032 1B68     		ldr	r3, [r3]
 156 0034 8342     		cmp	r3, r0
 157 0036 10D0     		beq	.L23
 158 0038 2A4B     		ldr	r3, .L34+8
 159 003a 1B68     		ldr	r3, [r3]
 160 003c 8342     		cmp	r3, r0
 161 003e 46D0     		beq	.L32
 162              	.L24:
 163 0040 0388     		ldrh	r3, [r0]
 164 0042 2380     		strh	r3, [r4]	@ movhi
 165 0044 0088     		ldrh	r0, [r0]
 166 0046 B0F5C86F 		cmp	r0, #1600
 167 004a 06D0     		beq	.L23
 168 004c FFF7FEFF 		bl	ptr_to_mem
 169 0050 0546     		mov	r5, r0
 170 0052 2046     		mov	r0, r4
 171 0054 FFF7FEFF 		bl	mem_to_ptr
 172 0058 6880     		strh	r0, [r5, #2]	@ movhi
 173              	.L23:
 174 005a 6088     		ldrh	r0, [r4, #2]
 175 005c FFF7FEFF 		bl	ptr_to_mem
 176 0060 0546     		mov	r5, r0
 177 0062 8442     		cmp	r4, r0
 178 0064 12D0     		beq	.L18
ARM GAS  /tmp/ccxGqoRM.s 			page 4


 179 0066 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 180 0068 83B9     		cbnz	r3, .L18
 181 006a 1E4B     		ldr	r3, .L34+8
 182 006c 1B68     		ldr	r3, [r3]
 183 006e A342     		cmp	r3, r4
 184 0070 30D0     		beq	.L33
 185              	.L26:
 186 0072 2388     		ldrh	r3, [r4]
 187 0074 2B80     		strh	r3, [r5]	@ movhi
 188 0076 2088     		ldrh	r0, [r4]
 189 0078 B0F5C86F 		cmp	r0, #1600
 190 007c 06D0     		beq	.L18
 191 007e FFF7FEFF 		bl	ptr_to_mem
 192 0082 0446     		mov	r4, r0
 193 0084 2846     		mov	r0, r5
 194 0086 FFF7FEFF 		bl	mem_to_ptr
 195 008a 6080     		strh	r0, [r4, #2]	@ movhi
 196              	.L18:
 197 008c 38BD     		pop	{r3, r4, r5, pc}
 198              	.L28:
 199 008e 164B     		ldr	r3, .L34+12
 200 0090 40F2DF12 		movw	r2, #479
 201 0094 1549     		ldr	r1, .L34+16
 202 0096 1648     		ldr	r0, .L34+20
 203 0098 FFF7FEFF 		bl	printf
 204 009c B6E7     		b	.L19
 205              	.L29:
 206 009e 124B     		ldr	r3, .L34+12
 207 00a0 4FF4F072 		mov	r2, #480
 208 00a4 1349     		ldr	r1, .L34+24
 209 00a6 1248     		ldr	r0, .L34+20
 210 00a8 FFF7FEFF 		bl	printf
 211 00ac B2E7     		b	.L20
 212              	.L30:
 213 00ae 0E4B     		ldr	r3, .L34+12
 214 00b0 40F2E112 		movw	r2, #481
 215 00b4 1049     		ldr	r1, .L34+28
 216 00b6 0E48     		ldr	r0, .L34+20
 217 00b8 FFF7FEFF 		bl	printf
 218 00bc ADE7     		b	.L21
 219              	.L31:
 220 00be 0A4B     		ldr	r3, .L34+12
 221 00c0 4FF4F272 		mov	r2, #484
 222 00c4 0D49     		ldr	r1, .L34+32
 223 00c6 0A48     		ldr	r0, .L34+20
 224 00c8 FFF7FEFF 		bl	printf
 225 00cc A9E7     		b	.L22
 226              	.L32:
 227 00ce 054B     		ldr	r3, .L34+8
 228 00d0 1C60     		str	r4, [r3]
 229 00d2 B5E7     		b	.L24
 230              	.L33:
 231 00d4 034B     		ldr	r3, .L34+8
 232 00d6 1860     		str	r0, [r3]
 233 00d8 CBE7     		b	.L26
 234              	.L35:
 235 00da 00BF     		.align	2
ARM GAS  /tmp/ccxGqoRM.s 			page 5


 236              	.L34:
 237 00dc 00000000 		.word	.LANCHOR0
 238 00e0 00000000 		.word	.LANCHOR1
 239 00e4 00000000 		.word	.LANCHOR2
 240 00e8 00000000 		.word	.LC0
 241 00ec 2C000000 		.word	.LC1
 242 00f0 44000000 		.word	.LC2
 243 00f4 6C000000 		.word	.LC3
 244 00f8 88000000 		.word	.LC4
 245 00fc A4000000 		.word	.LC5
 247              		.section	.text.mem_init,"ax",%progbits
 248              		.align	1
 249              		.global	mem_init
 250              		.syntax unified
 251              		.thumb
 252              		.thumb_func
 253              		.fpu fpv4-sp-d16
 255              	mem_init:
 256              		@ args = 0, pretend = 0, frame = 0
 257              		@ frame_needed = 0, uses_anonymous_args = 0
 258 0000 38B5     		push	{r3, r4, r5, lr}
 259 0002 114C     		ldr	r4, .L40
 260 0004 24F00304 		bic	r4, r4, #3
 261 0008 104B     		ldr	r3, .L40+4
 262 000a 1C60     		str	r4, [r3]
 263 000c 4FF4C865 		mov	r5, #1600
 264 0010 2580     		strh	r5, [r4]	@ movhi
 265 0012 0023     		movs	r3, #0
 266 0014 6380     		strh	r3, [r4, #2]	@ movhi
 267 0016 2371     		strb	r3, [r4, #4]
 268 0018 2846     		mov	r0, r5
 269 001a FFF7FEFF 		bl	ptr_to_mem
 270 001e 0C4B     		ldr	r3, .L40+8
 271 0020 1860     		str	r0, [r3]
 272 0022 0123     		movs	r3, #1
 273 0024 0371     		strb	r3, [r0, #4]
 274 0026 0580     		strh	r5, [r0]	@ movhi
 275 0028 4580     		strh	r5, [r0, #2]	@ movhi
 276 002a 0A4B     		ldr	r3, .L40+12
 277 002c 1C60     		str	r4, [r3]
 278 002e 0A48     		ldr	r0, .L40+16
 279 0030 FFF7FEFF 		bl	sys_mutex_new
 280 0034 00B9     		cbnz	r0, .L39
 281              	.L36:
 282 0036 38BD     		pop	{r3, r4, r5, pc}
 283              	.L39:
 284 0038 084B     		ldr	r3, .L40+20
 285 003a 40F21F22 		movw	r2, #543
 286 003e 0849     		ldr	r1, .L40+24
 287 0040 0848     		ldr	r0, .L40+28
 288 0042 FFF7FEFF 		bl	printf
 289 0046 F6E7     		b	.L36
 290              	.L41:
 291              		.align	2
 292              	.L40:
 293 0048 03000000 		.word	ram_heap+3
 294 004c 00000000 		.word	.LANCHOR0
ARM GAS  /tmp/ccxGqoRM.s 			page 6


 295 0050 00000000 		.word	.LANCHOR1
 296 0054 00000000 		.word	.LANCHOR2
 297 0058 00000000 		.word	.LANCHOR3
 298 005c 00000000 		.word	.LC0
 299 0060 00000000 		.word	.LC6
 300 0064 44000000 		.word	.LC2
 302              		.section	.text.mem_free,"ax",%progbits
 303              		.align	1
 304              		.global	mem_free
 305              		.syntax unified
 306              		.thumb
 307              		.thumb_func
 308              		.fpu fpv4-sp-d16
 310              	mem_free:
 311              		@ args = 0, pretend = 0, frame = 0
 312              		@ frame_needed = 0, uses_anonymous_args = 0
 313 0000 0028     		cmp	r0, #0
 314 0002 60D0     		beq	.L51
 315 0004 38B5     		push	{r3, r4, r5, lr}
 316 0006 0446     		mov	r4, r0
 317 0008 10F0030F 		tst	r0, #3
 318 000c 17D1     		bne	.L54
 319 000e A0F10805 		sub	r5, r0, #8
 320 0012 2D4B     		ldr	r3, .L57
 321 0014 1B68     		ldr	r3, [r3]
 322 0016 AB42     		cmp	r3, r5
 323 0018 05D8     		bhi	.L45
 324 001a 00F10C03 		add	r3, r0, #12
 325 001e 2B4A     		ldr	r2, .L57+4
 326 0020 1268     		ldr	r2, [r2]
 327 0022 9342     		cmp	r3, r2
 328 0024 17D9     		bls	.L46
 329              	.L45:
 330 0026 2A4B     		ldr	r3, .L57+8
 331 0028 40F27F22 		movw	r2, #639
 332 002c 2949     		ldr	r1, .L57+12
 333 002e 2A48     		ldr	r0, .L57+16
 334 0030 FFF7FEFF 		bl	printf
 335 0034 FFF7FEFF 		bl	sys_arch_protect
 336 0038 FFF7FEFF 		bl	sys_arch_unprotect
 337              	.L42:
 338 003c 38BD     		pop	{r3, r4, r5, pc}
 339              	.L54:
 340 003e 244B     		ldr	r3, .L57+8
 341 0040 40F27322 		movw	r2, #627
 342 0044 2549     		ldr	r1, .L57+20
 343 0046 2448     		ldr	r0, .L57+16
 344 0048 FFF7FEFF 		bl	printf
 345 004c FFF7FEFF 		bl	sys_arch_protect
 346 0050 FFF7FEFF 		bl	sys_arch_unprotect
 347 0054 F2E7     		b	.L42
 348              	.L46:
 349 0056 2248     		ldr	r0, .L57+24
 350 0058 FFF7FEFF 		bl	sys_mutex_lock
 351 005c 14F8043C 		ldrb	r3, [r4, #-4]	@ zero_extendqisi2
 352 0060 9BB1     		cbz	r3, .L55
 353 0062 2846     		mov	r0, r5
ARM GAS  /tmp/ccxGqoRM.s 			page 7


 354 0064 FFF7FEFF 		bl	mem_link_valid
 355 0068 F0B1     		cbz	r0, .L56
 356 006a 0023     		movs	r3, #0
 357 006c 04F8043C 		strb	r3, [r4, #-4]
 358 0070 1C4B     		ldr	r3, .L57+28
 359 0072 1B68     		ldr	r3, [r3]
 360 0074 AB42     		cmp	r3, r5
 361 0076 01D9     		bls	.L49
 362 0078 1A4B     		ldr	r3, .L57+28
 363 007a 1D60     		str	r5, [r3]
 364              	.L49:
 365 007c 2846     		mov	r0, r5
 366 007e FFF7FEFF 		bl	plug_holes
 367 0082 1748     		ldr	r0, .L57+24
 368 0084 FFF7FEFF 		bl	sys_mutex_unlock
 369 0088 D8E7     		b	.L42
 370              	.L55:
 371 008a 114B     		ldr	r3, .L57+8
 372 008c 4FF42372 		mov	r2, #652
 373 0090 1549     		ldr	r1, .L57+32
 374 0092 1148     		ldr	r0, .L57+16
 375 0094 FFF7FEFF 		bl	printf
 376 0098 1148     		ldr	r0, .L57+24
 377 009a FFF7FEFF 		bl	sys_mutex_unlock
 378 009e FFF7FEFF 		bl	sys_arch_protect
 379 00a2 FFF7FEFF 		bl	sys_arch_unprotect
 380 00a6 C9E7     		b	.L42
 381              	.L56:
 382 00a8 094B     		ldr	r3, .L57+8
 383 00aa 40F29522 		movw	r2, #661
 384 00ae 0F49     		ldr	r1, .L57+36
 385 00b0 0948     		ldr	r0, .L57+16
 386 00b2 FFF7FEFF 		bl	printf
 387 00b6 0A48     		ldr	r0, .L57+24
 388 00b8 FFF7FEFF 		bl	sys_mutex_unlock
 389 00bc FFF7FEFF 		bl	sys_arch_protect
 390 00c0 FFF7FEFF 		bl	sys_arch_unprotect
 391 00c4 BAE7     		b	.L42
 392              	.L51:
 393 00c6 7047     		bx	lr
 394              	.L58:
 395              		.align	2
 396              	.L57:
 397 00c8 00000000 		.word	.LANCHOR0
 398 00cc 00000000 		.word	.LANCHOR1
 399 00d0 00000000 		.word	.LC0
 400 00d4 24000000 		.word	.LC8
 401 00d8 44000000 		.word	.LC2
 402 00dc 00000000 		.word	.LC7
 403 00e0 00000000 		.word	.LANCHOR3
 404 00e4 00000000 		.word	.LANCHOR2
 405 00e8 40000000 		.word	.LC9
 406 00ec 68000000 		.word	.LC10
 408              		.section	.text.mem_trim,"ax",%progbits
 409              		.align	1
 410              		.global	mem_trim
 411              		.syntax unified
ARM GAS  /tmp/ccxGqoRM.s 			page 8


 412              		.thumb
 413              		.thumb_func
 414              		.fpu fpv4-sp-d16
 416              	mem_trim:
 417              		@ args = 0, pretend = 0, frame = 0
 418              		@ frame_needed = 0, uses_anonymous_args = 0
 419 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 420 0004 CC1C     		adds	r4, r1, #3
 421 0006 A4B2     		uxth	r4, r4
 422 0008 24F00304 		bic	r4, r4, #3
 423 000c A4B2     		uxth	r4, r4
 424 000e 0B2C     		cmp	r4, #11
 425 0010 04D9     		bls	.L73
 426 0012 B4F5C86F 		cmp	r4, #1600
 427 0016 02D9     		bls	.L60
 428 0018 0020     		movs	r0, #0
 429 001a 62E0     		b	.L59
 430              	.L73:
 431 001c 0C24     		movs	r4, #12
 432              	.L60:
 433 001e 8C42     		cmp	r4, r1
 434 0020 C0F0A380 		bcc	.L75
 435 0024 0546     		mov	r5, r0
 436 0026 544B     		ldr	r3, .L83
 437 0028 1B68     		ldr	r3, [r3]
 438 002a 8342     		cmp	r3, r0
 439 002c 03D8     		bhi	.L62
 440 002e 534B     		ldr	r3, .L83+4
 441 0030 1B68     		ldr	r3, [r3]
 442 0032 8342     		cmp	r3, r0
 443 0034 06D8     		bhi	.L63
 444              	.L62:
 445 0036 524B     		ldr	r3, .L83+8
 446 0038 40F2D222 		movw	r2, #722
 447 003c 5149     		ldr	r1, .L83+12
 448 003e 5248     		ldr	r0, .L83+16
 449 0040 FFF7FEFF 		bl	printf
 450              	.L63:
 451 0044 4C4B     		ldr	r3, .L83
 452 0046 1B68     		ldr	r3, [r3]
 453 0048 AB42     		cmp	r3, r5
 454 004a 45D8     		bhi	.L64
 455 004c 4B4B     		ldr	r3, .L83+4
 456 004e 1B68     		ldr	r3, [r3]
 457 0050 AB42     		cmp	r3, r5
 458 0052 41D9     		bls	.L64
 459 0054 A5F10800 		sub	r0, r5, #8
 460 0058 FFF7FEFF 		bl	mem_to_ptr
 461 005c 0646     		mov	r6, r0
 462 005e 35F8088C 		ldrh	r8, [r5, #-8]
 463 0062 A8EB0008 		sub	r8, r8, r0
 464 0066 1FFA88F8 		uxth	r8, r8
 465 006a A8F10808 		sub	r8, r8, #8
 466 006e 1FFA88F8 		uxth	r8, r8
 467 0072 4445     		cmp	r4, r8
 468 0074 37D8     		bhi	.L79
 469              	.L66:
ARM GAS  /tmp/ccxGqoRM.s 			page 9


 470 0076 4445     		cmp	r4, r8
 471 0078 79D8     		bhi	.L76
 472 007a 7AD0     		beq	.L77
 473 007c 4348     		ldr	r0, .L83+20
 474 007e FFF7FEFF 		bl	sys_mutex_lock
 475 0082 35F8087C 		ldrh	r7, [r5, #-8]
 476 0086 3846     		mov	r0, r7
 477 0088 FFF7FEFF 		bl	ptr_to_mem
 478 008c 8146     		mov	r9, r0
 479 008e 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 480 0090 002B     		cmp	r3, #0
 481 0092 3ED1     		bne	.L67
 482 0094 B7F5C86F 		cmp	r7, #1600
 483 0098 2DD0     		beq	.L80
 484              	.L68:
 485 009a B9F80070 		ldrh	r7, [r9]
 486 009e 3444     		add	r4, r4, r6
 487 00a0 A4B2     		uxth	r4, r4
 488 00a2 0834     		adds	r4, r4, #8
 489 00a4 A4B2     		uxth	r4, r4
 490 00a6 3A4B     		ldr	r3, .L83+24
 491 00a8 1B68     		ldr	r3, [r3]
 492 00aa 4B45     		cmp	r3, r9
 493 00ac 2BD0     		beq	.L81
 494              	.L69:
 495 00ae 2046     		mov	r0, r4
 496 00b0 FFF7FEFF 		bl	ptr_to_mem
 497 00b4 0023     		movs	r3, #0
 498 00b6 0371     		strb	r3, [r0, #4]
 499 00b8 0780     		strh	r7, [r0]	@ movhi
 500 00ba 4680     		strh	r6, [r0, #2]	@ movhi
 501 00bc 25F8084C 		strh	r4, [r5, #-8]	@ movhi
 502 00c0 0088     		ldrh	r0, [r0]
 503 00c2 B0F5C86F 		cmp	r0, #1600
 504 00c6 02D0     		beq	.L70
 505 00c8 FFF7FEFF 		bl	ptr_to_mem
 506 00cc 4480     		strh	r4, [r0, #2]	@ movhi
 507              	.L70:
 508 00ce 2F48     		ldr	r0, .L83+20
 509 00d0 FFF7FEFF 		bl	sys_mutex_unlock
 510 00d4 2846     		mov	r0, r5
 511 00d6 04E0     		b	.L59
 512              	.L64:
 513 00d8 FFF7FEFF 		bl	sys_arch_protect
 514 00dc FFF7FEFF 		bl	sys_arch_unprotect
 515 00e0 2846     		mov	r0, r5
 516              	.L59:
 517 00e2 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 518              	.L79:
 519 00e6 264B     		ldr	r3, .L83+8
 520 00e8 4FF43972 		mov	r2, #740
 521 00ec 2949     		ldr	r1, .L83+28
 522 00ee 2648     		ldr	r0, .L83+16
 523 00f0 FFF7FEFF 		bl	printf
 524 00f4 BFE7     		b	.L66
 525              	.L80:
 526 00f6 224B     		ldr	r3, .L83+8
ARM GAS  /tmp/ccxGqoRM.s 			page 10


 527 00f8 40F2F522 		movw	r2, #757
 528 00fc 2649     		ldr	r1, .L83+32
 529 00fe 2248     		ldr	r0, .L83+16
 530 0100 FFF7FEFF 		bl	printf
 531 0104 C9E7     		b	.L68
 532              	.L81:
 533 0106 2046     		mov	r0, r4
 534 0108 FFF7FEFF 		bl	ptr_to_mem
 535 010c 204B     		ldr	r3, .L83+24
 536 010e 1860     		str	r0, [r3]
 537 0110 CDE7     		b	.L69
 538              	.L67:
 539 0112 04F11403 		add	r3, r4, #20
 540 0116 4345     		cmp	r3, r8
 541 0118 D9D8     		bhi	.L70
 542 011a 3444     		add	r4, r4, r6
 543 011c A4B2     		uxth	r4, r4
 544 011e 0834     		adds	r4, r4, #8
 545 0120 A4B2     		uxth	r4, r4
 546 0122 B7F5C86F 		cmp	r7, #1600
 547 0126 18D0     		beq	.L82
 548              	.L71:
 549 0128 2046     		mov	r0, r4
 550 012a FFF7FEFF 		bl	ptr_to_mem
 551 012e 184B     		ldr	r3, .L83+24
 552 0130 1B68     		ldr	r3, [r3]
 553 0132 8342     		cmp	r3, r0
 554 0134 01D9     		bls	.L72
 555 0136 164B     		ldr	r3, .L83+24
 556 0138 1860     		str	r0, [r3]
 557              	.L72:
 558 013a 0023     		movs	r3, #0
 559 013c 0371     		strb	r3, [r0, #4]
 560 013e 35F8083C 		ldrh	r3, [r5, #-8]
 561 0142 0380     		strh	r3, [r0]	@ movhi
 562 0144 4680     		strh	r6, [r0, #2]	@ movhi
 563 0146 25F8084C 		strh	r4, [r5, #-8]	@ movhi
 564 014a 0088     		ldrh	r0, [r0]
 565 014c B0F5C86F 		cmp	r0, #1600
 566 0150 BDD0     		beq	.L70
 567 0152 FFF7FEFF 		bl	ptr_to_mem
 568 0156 4480     		strh	r4, [r0, #2]	@ movhi
 569 0158 B9E7     		b	.L70
 570              	.L82:
 571 015a 094B     		ldr	r3, .L83+8
 572 015c 40F21632 		movw	r2, #790
 573 0160 0D49     		ldr	r1, .L83+32
 574 0162 0948     		ldr	r0, .L83+16
 575 0164 FFF7FEFF 		bl	printf
 576 0168 DEE7     		b	.L71
 577              	.L75:
 578 016a 0020     		movs	r0, #0
 579 016c B9E7     		b	.L59
 580              	.L76:
 581 016e 0020     		movs	r0, #0
 582 0170 B7E7     		b	.L59
 583              	.L77:
ARM GAS  /tmp/ccxGqoRM.s 			page 11


 584 0172 2846     		mov	r0, r5
 585 0174 B5E7     		b	.L59
 586              	.L84:
 587 0176 00BF     		.align	2
 588              	.L83:
 589 0178 00000000 		.word	.LANCHOR0
 590 017c 00000000 		.word	.LANCHOR1
 591 0180 00000000 		.word	.LC0
 592 0184 00000000 		.word	.LC11
 593 0188 44000000 		.word	.LC2
 594 018c 00000000 		.word	.LANCHOR3
 595 0190 00000000 		.word	.LANCHOR2
 596 0194 18000000 		.word	.LC12
 597 0198 38000000 		.word	.LC13
 599              		.section	.text.mem_malloc,"ax",%progbits
 600              		.align	1
 601              		.global	mem_malloc
 602              		.syntax unified
 603              		.thumb
 604              		.thumb_func
 605              		.fpu fpv4-sp-d16
 607              	mem_malloc:
 608              		@ args = 0, pretend = 0, frame = 0
 609              		@ frame_needed = 0, uses_anonymous_args = 0
 610 0000 0028     		cmp	r0, #0
 611 0002 00F0A380 		beq	.L101
 612 0006 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 613 000a 0346     		mov	r3, r0
 614 000c C61C     		adds	r6, r0, #3
 615 000e B6B2     		uxth	r6, r6
 616 0010 26F00306 		bic	r6, r6, #3
 617 0014 B6B2     		uxth	r6, r6
 618 0016 0B2E     		cmp	r6, #11
 619 0018 04D9     		bls	.L102
 620 001a B6F5C86F 		cmp	r6, #1600
 621 001e 02D9     		bls	.L87
 622 0020 0020     		movs	r0, #0
 623 0022 91E0     		b	.L85
 624              	.L102:
 625 0024 0C26     		movs	r6, #12
 626              	.L87:
 627 0026 9E42     		cmp	r6, r3
 628 0028 C0F09280 		bcc	.L104
 629 002c 4948     		ldr	r0, .L114
 630 002e FFF7FEFF 		bl	sys_mutex_lock
 631 0032 494B     		ldr	r3, .L114+4
 632 0034 1868     		ldr	r0, [r3]
 633 0036 FFF7FEFF 		bl	mem_to_ptr
 634 003a 0446     		mov	r4, r0
 635 003c 4FE0     		b	.L88
 636              	.L113:
 637 003e 474B     		ldr	r3, .L114+8
 638 0040 40F28732 		movw	r2, #903
 639 0044 4649     		ldr	r1, .L114+12
 640 0046 4748     		ldr	r0, .L114+16
 641 0048 FFF7FEFF 		bl	printf
 642 004c 65E0     		b	.L91
ARM GAS  /tmp/ccxGqoRM.s 			page 12


 643              	.L90:
 644 004e 0123     		movs	r3, #1
 645 0050 0371     		strb	r3, [r0, #4]
 646              	.L92:
 647 0052 414B     		ldr	r3, .L114+4
 648 0054 1868     		ldr	r0, [r3]
 649 0056 A842     		cmp	r0, r5
 650 0058 12D0     		beq	.L93
 651              	.L94:
 652 005a 3E48     		ldr	r0, .L114
 653 005c FFF7FEFF 		bl	sys_mutex_unlock
 654 0060 2F44     		add	r7, r7, r5
 655 0062 0837     		adds	r7, r7, #8
 656 0064 404B     		ldr	r3, .L114+20
 657 0066 1B68     		ldr	r3, [r3]
 658 0068 9F42     		cmp	r7, r3
 659 006a 1FD8     		bhi	.L109
 660              	.L97:
 661 006c 15F00304 		ands	r4, r5, #3
 662 0070 24D1     		bne	.L110
 663              	.L98:
 664 0072 5CBB     		cbnz	r4, .L111
 665              	.L99:
 666 0074 05F10800 		add	r0, r5, #8
 667 0078 66E0     		b	.L85
 668              	.L96:
 669 007a 0088     		ldrh	r0, [r0]
 670 007c FFF7FEFF 		bl	ptr_to_mem
 671              	.L93:
 672 0080 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 673 0082 1BB1     		cbz	r3, .L95
 674 0084 384A     		ldr	r2, .L114+20
 675 0086 1268     		ldr	r2, [r2]
 676 0088 8242     		cmp	r2, r0
 677 008a F6D1     		bne	.L96
 678              	.L95:
 679 008c 324A     		ldr	r2, .L114+4
 680 008e 1060     		str	r0, [r2]
 681 0090 354A     		ldr	r2, .L114+20
 682 0092 1268     		ldr	r2, [r2]
 683 0094 8242     		cmp	r2, r0
 684 0096 E0D0     		beq	.L94
 685 0098 002B     		cmp	r3, #0
 686 009a DED0     		beq	.L94
 687 009c 2F4B     		ldr	r3, .L114+8
 688 009e 40F2B532 		movw	r2, #949
 689 00a2 3249     		ldr	r1, .L114+24
 690 00a4 2F48     		ldr	r0, .L114+16
 691 00a6 FFF7FEFF 		bl	printf
 692 00aa D6E7     		b	.L94
 693              	.L109:
 694 00ac 2B4B     		ldr	r3, .L114+8
 695 00ae 40F2BA32 		movw	r2, #954
 696 00b2 2F49     		ldr	r1, .L114+28
 697 00b4 2B48     		ldr	r0, .L114+16
 698 00b6 FFF7FEFF 		bl	printf
 699 00ba D7E7     		b	.L97
ARM GAS  /tmp/ccxGqoRM.s 			page 13


 700              	.L110:
 701 00bc 274B     		ldr	r3, .L114+8
 702 00be 4FF46F72 		mov	r2, #956
 703 00c2 2C49     		ldr	r1, .L114+32
 704 00c4 2748     		ldr	r0, .L114+16
 705 00c6 FFF7FEFF 		bl	printf
 706 00ca D2E7     		b	.L98
 707              	.L111:
 708 00cc 234B     		ldr	r3, .L114+8
 709 00ce 40F2BE32 		movw	r2, #958
 710 00d2 2949     		ldr	r1, .L114+36
 711 00d4 2348     		ldr	r0, .L114+16
 712 00d6 FFF7FEFF 		bl	printf
 713 00da CBE7     		b	.L99
 714              	.L89:
 715 00dc 2C88     		ldrh	r4, [r5]
 716              	.L88:
 717 00de A046     		mov	r8, r4
 718 00e0 3746     		mov	r7, r6
 719 00e2 C6F5C863 		rsb	r3, r6, #1600
 720 00e6 9C42     		cmp	r4, r3
 721 00e8 2AD2     		bcs	.L112
 722 00ea 2046     		mov	r0, r4
 723 00ec FFF7FEFF 		bl	ptr_to_mem
 724 00f0 0546     		mov	r5, r0
 725 00f2 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 726 00f4 002B     		cmp	r3, #0
 727 00f6 F1D1     		bne	.L89
 728 00f8 0388     		ldrh	r3, [r0]
 729 00fa A3EB0803 		sub	r3, r3, r8
 730 00fe 083B     		subs	r3, r3, #8
 731 0100 BB42     		cmp	r3, r7
 732 0102 EBD3     		bcc	.L89
 733 0104 07F11402 		add	r2, r7, #20
 734 0108 9342     		cmp	r3, r2
 735 010a A0D3     		bcc	.L90
 736 010c 2644     		add	r6, r6, r4
 737 010e B6B2     		uxth	r6, r6
 738 0110 0836     		adds	r6, r6, #8
 739 0112 B6B2     		uxth	r6, r6
 740 0114 B6F5C86F 		cmp	r6, #1600
 741 0118 91D0     		beq	.L113
 742              	.L91:
 743 011a 3046     		mov	r0, r6
 744 011c FFF7FEFF 		bl	ptr_to_mem
 745 0120 0023     		movs	r3, #0
 746 0122 0371     		strb	r3, [r0, #4]
 747 0124 2B88     		ldrh	r3, [r5]
 748 0126 0380     		strh	r3, [r0]	@ movhi
 749 0128 4480     		strh	r4, [r0, #2]	@ movhi
 750 012a 2E80     		strh	r6, [r5]	@ movhi
 751 012c 0123     		movs	r3, #1
 752 012e 2B71     		strb	r3, [r5, #4]
 753 0130 0088     		ldrh	r0, [r0]
 754 0132 B0F5C86F 		cmp	r0, #1600
 755 0136 8CD0     		beq	.L92
 756 0138 FFF7FEFF 		bl	ptr_to_mem
ARM GAS  /tmp/ccxGqoRM.s 			page 14


 757 013c 4680     		strh	r6, [r0, #2]	@ movhi
 758 013e 88E7     		b	.L92
 759              	.L112:
 760 0140 0448     		ldr	r0, .L114
 761 0142 FFF7FEFF 		bl	sys_mutex_unlock
 762 0146 0020     		movs	r0, #0
 763              	.L85:
 764 0148 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 765              	.L101:
 766 014c 0020     		movs	r0, #0
 767 014e 7047     		bx	lr
 768              	.L104:
 769 0150 0020     		movs	r0, #0
 770 0152 F9E7     		b	.L85
 771              	.L115:
 772              		.align	2
 773              	.L114:
 774 0154 00000000 		.word	.LANCHOR3
 775 0158 00000000 		.word	.LANCHOR2
 776 015c 00000000 		.word	.LC0
 777 0160 38000000 		.word	.LC13
 778 0164 44000000 		.word	.LC2
 779 0168 00000000 		.word	.LANCHOR1
 780 016c 00000000 		.word	.LC14
 781 0170 1C000000 		.word	.LC15
 782 0174 4C000000 		.word	.LC16
 783 0178 7C000000 		.word	.LC17
 785              		.section	.text.mem_calloc,"ax",%progbits
 786              		.align	1
 787              		.global	mem_calloc
 788              		.syntax unified
 789              		.thumb
 790              		.thumb_func
 791              		.fpu fpv4-sp-d16
 793              	mem_calloc:
 794              		@ args = 0, pretend = 0, frame = 0
 795              		@ frame_needed = 0, uses_anonymous_args = 0
 796 0000 38B5     		push	{r3, r4, r5, lr}
 797 0002 01FB00F4 		mul	r4, r1, r0
 798 0006 A0B2     		uxth	r0, r4
 799 0008 8442     		cmp	r4, r0
 800 000a 08D1     		bne	.L118
 801 000c FFF7FEFF 		bl	mem_malloc
 802 0010 0546     		mov	r5, r0
 803 0012 28B1     		cbz	r0, .L116
 804 0014 2246     		mov	r2, r4
 805 0016 0021     		movs	r1, #0
 806 0018 FFF7FEFF 		bl	memset
 807 001c 00E0     		b	.L116
 808              	.L118:
 809 001e 0025     		movs	r5, #0
 810              	.L116:
 811 0020 2846     		mov	r0, r5
 812 0022 38BD     		pop	{r3, r4, r5, pc}
 814              		.comm	ram_heap,1619,4
 815              		.section	.bss.lfree,"aw",%nobits
 816              		.align	2
ARM GAS  /tmp/ccxGqoRM.s 			page 15


 817              		.set	.LANCHOR2,. + 0
 820              	lfree:
 821 0000 00000000 		.space	4
 822              		.section	.bss.mem_mutex,"aw",%nobits
 823              		.align	2
 824              		.set	.LANCHOR3,. + 0
 827              	mem_mutex:
 828 0000 00000000 		.space	4
 829              		.section	.bss.ram,"aw",%nobits
 830              		.align	2
 831              		.set	.LANCHOR0,. + 0
 834              	ram:
 835 0000 00000000 		.space	4
 836              		.section	.bss.ram_end,"aw",%nobits
 837              		.align	2
 838              		.set	.LANCHOR1,. + 0
 841              	ram_end:
 842 0000 00000000 		.space	4
 843              		.section	.rodata.mem_free.str1.4,"aMS",%progbits,1
 844              		.align	2
 845              	.LC7:
 846 0000 6D656D5F 		.ascii	"mem_free: sanity check alignment\000"
 846      66726565 
 846      3A207361 
 846      6E697479 
 846      20636865 
 847 0021 000000   		.space	3
 848              	.LC8:
 849 0024 6D656D5F 		.ascii	"mem_free: illegal memory\000"
 849      66726565 
 849      3A20696C 
 849      6C656761 
 849      6C206D65 
 850 003d 000000   		.space	3
 851              	.LC9:
 852 0040 6D656D5F 		.ascii	"mem_free: illegal memory: double free\000"
 852      66726565 
 852      3A20696C 
 852      6C656761 
 852      6C206D65 
 853 0066 0000     		.space	2
 854              	.LC10:
 855 0068 6D656D5F 		.ascii	"mem_free: illegal memory: non-linked: double free\000"
 855      66726565 
 855      3A20696C 
 855      6C656761 
 855      6C206D65 
 856              		.section	.rodata.mem_init.str1.4,"aMS",%progbits,1
 857              		.align	2
 858              	.LC6:
 859 0000 6661696C 		.ascii	"failed to create mem_mutex\000"
 859      65642074 
 859      6F206372 
 859      65617465 
 859      206D656D 
 860              		.section	.rodata.mem_malloc.str1.4,"aMS",%progbits,1
 861              		.align	2
ARM GAS  /tmp/ccxGqoRM.s 			page 16


 862              	.LC14:
 863 0000 6D656D5F 		.ascii	"mem_malloc: !lfree->used\000"
 863      6D616C6C 
 863      6F633A20 
 863      216C6672 
 863      65652D3E 
 864 0019 000000   		.space	3
 865              	.LC15:
 866 001c 6D656D5F 		.ascii	"mem_malloc: allocated memory not above ram_end.\000"
 866      6D616C6C 
 866      6F633A20 
 866      616C6C6F 
 866      63617465 
 867              	.LC16:
 868 004c 6D656D5F 		.ascii	"mem_malloc: allocated memory properly aligned.\000"
 868      6D616C6C 
 868      6F633A20 
 868      616C6C6F 
 868      63617465 
 869 007b 00       		.space	1
 870              	.LC17:
 871 007c 6D656D5F 		.ascii	"mem_malloc: sanity check alignment\000"
 871      6D616C6C 
 871      6F633A20 
 871      73616E69 
 871      74792063 
 872              		.section	.rodata.mem_trim.str1.4,"aMS",%progbits,1
 873              		.align	2
 874              	.LC11:
 875 0000 6D656D5F 		.ascii	"mem_trim: legal memory\000"
 875      7472696D 
 875      3A206C65 
 875      67616C20 
 875      6D656D6F 
 876 0017 00       		.space	1
 877              	.LC12:
 878 0018 6D656D5F 		.ascii	"mem_trim can only shrink memory\000"
 878      7472696D 
 878      2063616E 
 878      206F6E6C 
 878      79207368 
 879              	.LC13:
 880 0038 696E7661 		.ascii	"invalid next ptr\000"
 880      6C696420 
 880      6E657874 
 880      20707472 
 880      00
 881              		.section	.rodata.plug_holes.str1.4,"aMS",%progbits,1
 882              		.align	2
 883              	.LC0:
 884 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/core/mem.c\000"
 884      6C657761 
 884      7265732F 
 884      54686972 
 884      645F5061 
 885              	.LC1:
 886 002c 706C7567 		.ascii	"plug_holes: mem >= ram\000"
ARM GAS  /tmp/ccxGqoRM.s 			page 17


 886      5F686F6C 
 886      65733A20 
 886      6D656D20 
 886      3E3D2072 
 887 0043 00       		.space	1
 888              	.LC2:
 889 0044 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 889      7274696F 
 889      6E202225 
 889      73222066 
 889      61696C65 
 890              	.LC3:
 891 006c 706C7567 		.ascii	"plug_holes: mem < ram_end\000"
 891      5F686F6C 
 891      65733A20 
 891      6D656D20 
 891      3C207261 
 892 0086 0000     		.space	2
 893              	.LC4:
 894 0088 706C7567 		.ascii	"plug_holes: mem->used == 0\000"
 894      5F686F6C 
 894      65733A20 
 894      6D656D2D 
 894      3E757365 
 895 00a3 00       		.space	1
 896              	.LC5:
 897 00a4 706C7567 		.ascii	"plug_holes: mem->next <= MEM_SIZE_ALIGNED\000"
 897      5F686F6C 
 897      65733A20 
 897      6D656D2D 
 897      3E6E6578 
 898              		.ident	"GCC: (GNU Tools for Arm Embedded Processors 8-2019-q3-update) 8.3.1 20190703 (release) [gc
ARM GAS  /tmp/ccxGqoRM.s 			page 18


DEFINED SYMBOLS
                            *ABS*:0000000000000000 mem.c
     /tmp/ccxGqoRM.s:16     .text.ptr_to_mem:0000000000000000 $t
     /tmp/ccxGqoRM.s:23     .text.ptr_to_mem:0000000000000000 ptr_to_mem
     /tmp/ccxGqoRM.s:34     .text.ptr_to_mem:0000000000000008 $d
     /tmp/ccxGqoRM.s:37     .text.mem_to_ptr:0000000000000000 $t
     /tmp/ccxGqoRM.s:43     .text.mem_to_ptr:0000000000000000 mem_to_ptr
     /tmp/ccxGqoRM.s:55     .text.mem_to_ptr:000000000000000c $d
     /tmp/ccxGqoRM.s:58     .text.mem_link_valid:0000000000000000 $t
     /tmp/ccxGqoRM.s:64     .text.mem_link_valid:0000000000000000 mem_link_valid
     /tmp/ccxGqoRM.s:116    .text.mem_link_valid:0000000000000058 $d
     /tmp/ccxGqoRM.s:119    .text.plug_holes:0000000000000000 $t
     /tmp/ccxGqoRM.s:125    .text.plug_holes:0000000000000000 plug_holes
     /tmp/ccxGqoRM.s:237    .text.plug_holes:00000000000000dc $d
     /tmp/ccxGqoRM.s:248    .text.mem_init:0000000000000000 $t
     /tmp/ccxGqoRM.s:255    .text.mem_init:0000000000000000 mem_init
     /tmp/ccxGqoRM.s:293    .text.mem_init:0000000000000048 $d
                            *COM*:0000000000000653 ram_heap
     /tmp/ccxGqoRM.s:303    .text.mem_free:0000000000000000 $t
     /tmp/ccxGqoRM.s:310    .text.mem_free:0000000000000000 mem_free
     /tmp/ccxGqoRM.s:397    .text.mem_free:00000000000000c8 $d
     /tmp/ccxGqoRM.s:409    .text.mem_trim:0000000000000000 $t
     /tmp/ccxGqoRM.s:416    .text.mem_trim:0000000000000000 mem_trim
     /tmp/ccxGqoRM.s:589    .text.mem_trim:0000000000000178 $d
     /tmp/ccxGqoRM.s:600    .text.mem_malloc:0000000000000000 $t
     /tmp/ccxGqoRM.s:607    .text.mem_malloc:0000000000000000 mem_malloc
     /tmp/ccxGqoRM.s:774    .text.mem_malloc:0000000000000154 $d
     /tmp/ccxGqoRM.s:786    .text.mem_calloc:0000000000000000 $t
     /tmp/ccxGqoRM.s:793    .text.mem_calloc:0000000000000000 mem_calloc
     /tmp/ccxGqoRM.s:816    .bss.lfree:0000000000000000 $d
     /tmp/ccxGqoRM.s:820    .bss.lfree:0000000000000000 lfree
     /tmp/ccxGqoRM.s:823    .bss.mem_mutex:0000000000000000 $d
     /tmp/ccxGqoRM.s:827    .bss.mem_mutex:0000000000000000 mem_mutex
     /tmp/ccxGqoRM.s:830    .bss.ram:0000000000000000 $d
     /tmp/ccxGqoRM.s:834    .bss.ram:0000000000000000 ram
     /tmp/ccxGqoRM.s:837    .bss.ram_end:0000000000000000 $d
     /tmp/ccxGqoRM.s:841    .bss.ram_end:0000000000000000 ram_end
     /tmp/ccxGqoRM.s:844    .rodata.mem_free.str1.4:0000000000000000 $d
     /tmp/ccxGqoRM.s:857    .rodata.mem_init.str1.4:0000000000000000 $d
     /tmp/ccxGqoRM.s:861    .rodata.mem_malloc.str1.4:0000000000000000 $d
     /tmp/ccxGqoRM.s:873    .rodata.mem_trim.str1.4:0000000000000000 $d
     /tmp/ccxGqoRM.s:882    .rodata.plug_holes.str1.4:0000000000000000 $d

UNDEFINED SYMBOLS
printf
sys_mutex_new
sys_arch_protect
sys_arch_unprotect
sys_mutex_lock
sys_mutex_unlock
memset
